<!DOCTYPE html>
<html>
<head>
    <title>ระบบจัดการค่าขยะ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
</head>
<body>
    <section class="section">
        <div class="container">
            <h1 class="title">บันทึกการจัดเก็บค่าขยะ</h1>
            <form id="garbageForm">
                <div class="field">
                    <label class="label">ชื่อ-นามสกุล</label>
                    <input class="input" type="text" name="name" required>
                </div>
                <div class="field">
                    <label class="label">บ้านเลขที่</label>
                    <input class="input" type="text" name="address" required>
                </div>
                <div class="field">
                    <label class="label">จำนวนเงิน (บาท)</label>
                    <input class="input" type="number" name="amount" value="40">
                </div>
                <button type="submit" class="button is-primary">บันทึกข้อมูล</button>
            </form>
        </div>
    </section>

    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycbyGWXuzthg-kcqRbacd5AW5WrPNbxA3s9UspPBfrjRKZP55ttJ1bpId82qo3ZrD_CjB_A/exec';
        const form = document.getElementById('garbageForm');

        form.addEventListener('submit', e => {
            e.preventDefault();
            const data = {
                name: form.name.value,
                address: form.address.value,
                amount: form.amount.value,
                status: 'จ่ายแล้ว'
            };

            fetch(scriptURL, { 
                method: 'POST', 
                body: JSON.stringify(data)
            })
            .then(response => alert('บันทึกสำเร็จแล้ว!'))
            .catch(error => console.error('Error!', error.message));
        });
    </script>
</body>
</html>
